<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.codeCart.mapper.ArticlesMapper">
    <insert id="addArticle" parameterType="com.codeCart.pojo.Articles">
        insert into articles(author_id,title,alias,content,created_at,updated_at,cate_gory) values(#{authorId},#{title},#{alias},#{content},now(),now(),#{cateGory})
    </insert>
    <select id="getArticleById" parameterType="java.lang.Integer" resultType="com.codeCart.pojo.Articles">
        select *
        from articles
        <where>
            author_id = #{id}
        </where>
    </select>
    <update id="updateArticle" parameterType="com.codeCart.pojo.Articles">
        update articles
        <set>
            <if test="title!=null and title!= ''">title = #{title},</if>
            <if test="alias!=null and alias!= ''">alias = #{alias},</if>
            <if test="content!=null and content!= ''">content = #{content},</if>
            <if test="cateGory!=null and cateGory!= ''">cate_gory = #{cateGory},</if>
            updated_at = now()
        </set>
        <where>
            id = #{id}
        </where>
    </update>
</mapper>